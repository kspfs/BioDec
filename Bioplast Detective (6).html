<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå± Bioplast Detective - Interaktivn√≠ Workshop</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #fcfcf9 0%, #f5f5f5 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .score-display {
            position: sticky;
            top: 20px;
            background: #21808d;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            text-align: center;
            margin-bottom: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .title {
            color: #21808d;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 600;
        }

        .subtitle {
            color: #626c71;
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 24px;
            background: rgba(94, 82, 64, 0.12);
            border: 1px solid rgba(94, 82, 64, 0.2);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            color: #13343b;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab-btn:hover {
            background: rgba(94, 82, 64, 0.2);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: #21808d;
            color: white;
            border-color: #21808d;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            color: #21808d;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #13343b;
        }

        select, input[type="range"] {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(94, 82, 64, 0.2);
            border-radius: 8px;
            font-size: 1em;
            background: #fcfcf9;
            color: #13343b;
        }

        input[type="range"] {
            padding: 0;
            height: 40px;
        }

        .btn-primary {
            background: #21808d;
            color: white;
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .btn-primary:hover {
            background: #1d7480;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .result-box {
            background: rgba(94, 82, 64, 0.12);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #21808d;
        }

        .result-box h4 {
            color: #21808d;
            margin-bottom: 10px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .comparison-card {
            background: #fcfcf9;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid rgba(94, 82, 64, 0.2);
            text-align: center;
            transition: all 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-color: #21808d;
        }

        .comparison-card h4 {
            color: #21808d;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #13343b;
        }

        .gauge {
            width: 100%;
            height: 30px;
            background: rgba(94, 82, 64, 0.12);
            border-radius: 15px;
            overflow: hidden;
            margin-top: 10px;
        }

        .gauge-fill {
            height: 100%;
            background: #21808d;
            border-radius: 15px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: bold;
        }

        .processing-params {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .param-control {
            background: #fcfcf9;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(94, 82, 64, 0.2);
        }

        .slider-value {
            display: inline-block;
            min-width: 60px;
            text-align: right;
            font-weight: bold;
            color: #21808d;
        }

        .quiz-question {
            background: rgba(94, 82, 64, 0.12);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .quiz-option {
            padding: 15px;
            background: white;
            border: 2px solid rgba(94, 82, 64, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: #21808d;
            transform: translateX(5px);
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid;
        }

        .alert-success {
            background: rgba(33, 128, 141, 0.1);
            border-color: #21808d;
            color: #21808d;
        }

        .alert-warning {
            background: rgba(230, 129, 97, 0.1);
            border-color: #e68161;
            color: #e68161;
        }

        @media (max-width: 768px) {
            .title { font-size: 1.8em; }
            .nav-tabs { flex-direction: column; }
            .tab-btn { width: 100%; }
            .comparison-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="score-display" id="scoreDisplay">Sk√≥re: 0 bod≈Ø</div>

        <div class="header">
            <h1 class="title">üå± Bioplast Detective</h1>
            <p class="subtitle">Interaktivn√≠ workshop - Udr≈æiteln√© in≈æen√Ωrstv√≠ FS TUL</p>
        </div>

        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('detective', this)">üîç Identifikace</button>
            <button class="tab-btn" onclick="switchTab('biodegradation', this)">‚è±Ô∏è Biodegradace</button>
            <button class="tab-btn" onclick="switchTab('lca', this)">üåç LCA Anal√Ωza</button>
            <button class="tab-btn" onclick="switchTab('processing', this)">‚öôÔ∏è Processing Challenge</button>
            <button class="tab-btn" onclick="switchTab('quiz', this)">üèÜ Kv√≠z</button>
        </nav>

        <div id="detective" class="tab-content active">
            <div class="card">
                <h2>üîç Bioplast Detective - Identifikace materi√°lu</h2>
                <p>M√°te p≈ôed sebou vzorek bioplasu. Odpovƒõzte na n√°sleduj√≠c√≠ ot√°zky a identifikujte materi√°l!</p>
                <div class="form-group">
                    <label for="appearance">Vzhled a pr≈Øhlednost:</label>
                    <select id="appearance">
                        <option value="">-- Vyberte --</option>
                        <option value="transparent">Pr≈Øhledn√Ω, ƒçir√Ω</option>
                        <option value="translucent">Pr≈Øsvitn√Ω, ml√©ƒçnƒõ zakalen√Ω</option>
                        <option value="opaque">Nepr≈Øhledn√Ω, b√≠l√Ω/barevn√Ω</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="flexibility">Ohebnost materi√°lu:</label>
                    <select id="flexibility">
                        <option value="">-- Vyberte --</option>
                        <option value="rigid">Tuh√Ω, k≈ôehk√Ω (l√°me se)</option>
                        <option value="flexible">Ohebn√Ω, pru≈æn√Ω (vrac√≠ se do tvaru)</option>
                    </select>
                </div>
                <button class="btn-primary" onclick="identifyBioplastic()">Identifikovat bioplast</button>
                <div id="identificationResult"></div>
            </div>
        </div>

        <div id="biodegradation" class="tab-content">
            <div class="card">
                <h2>‚è±Ô∏è Biodegradaƒçn√≠ kalkulaƒçka</h2>
                <p>Porovnejte dobu biodegradace r≈Øzn√Ωch materi√°l≈Ø v r≈Øzn√Ωch prost≈ôed√≠ch.</p>
                <div class="form-group">
                    <label for="material">Vyberte materi√°l:</label>
                    <select id="material" onchange="updateBiodegradation()">
                        <option value="pla">PLA (Polylaktid)</option>
                        <option value="phbv">PHBV (Polyhydroxybutyr√°t-valer√°t)</option>
                        <option value="pe">Konvenƒçn√≠ PE (Polyethylen)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="environment">Prost≈ôed√≠:</label>
                    <select id="environment" onchange="updateBiodegradation()">
                        <option value="industrial">Pr≈Ømyslov√© kompostov√°n√≠ (58¬∞C)</option>
                        <option value="home">Dom√°c√≠ kompost (25¬∞C)</option>
                        <option value="soil">P≈Øda (20-30¬∞C)</option>
                        <option value="marine">Mo≈ôsk√© prost≈ôed√≠</option>
                    </select>
                </div>
                <div id="biodegradationResult"></div>
            </div>
        </div>

        <div id="lca" class="tab-content">
            <div class="card">
                <h2>üåç LCA Kompar√°tor - Uhl√≠kov√° stopa</h2>
                <p>Porovnejte environment√°ln√≠ dopad r≈Øzn√Ωch plast≈Ø.</p>
                <div class="form-group">
                    <label for="product">Vyberte produkt:</label>
                    <select id="product" onchange="updateLCA()">
                        <option value="bag">N√°kupn√≠ ta≈°ka</option>
                        <option value="packaging">Obalov√Ω materi√°l</option>
                        <option value="cup">Jednor√°zov√Ω kel√≠mek</option>
                        <option value="film">F√≥lie (1 kg)</option>
                    </select>
                </div>
                <div id="lcaResult"></div>
            </div>
        </div>

        <div id="processing" class="tab-content">
            <div class="card">
                <h2>‚öôÔ∏è Processing Challenge</h2>
                <p>Nastavte optim√°ln√≠ parametry pro zpracov√°n√≠ vybran√©ho bioplasu.</p>
                <div class="form-group">
                    <label for="processMaterial">Vyberte bioplast:</label>
                    <select id="processMaterial" onchange="updateProcessingDefaults()">
                        <option value="pla">PLA</option>
                        <option value="phbv">PHBV</option>
                        <option value="pe">PE</option>
                    </select>
                </div>
                <div class="processing-params">
                    <div class="param-control">
                        <label for="temperature">Teplota taven√≠: <span class="slider-value" id="tempValue">180</span>¬∞C</label>
                        <input type="range" id="temperature" min="140" max="220" value="180" oninput="document.getElementById('tempValue').textContent = this.value">
                    </div>
                    <div class="param-control">
                        <label for="pressure">Vst≈ôikovac√≠ tlak: <span class="slider-value" id="pressureValue">80</span> MPa</label>
                        <input type="range" id="pressure" min="40" max="140" value="80" oninput="document.getElementById('pressureValue').textContent = this.value">
                    </div>
                    <div class="param-control">
                        <label for="speed">Rychlost vst≈ôiku: <span class="slider-value" id="speedValue">50</span> mm/s</label>
                        <input type="range" id="speed" min="20" max="100" value="50" oninput="document.getElementById('speedValue').textContent = this.value">
                    </div>
                </div>
                <button class="btn-primary" onclick="evaluateProcessing()">Vyhodnotit parametry</button>
                <div id="processingResult"></div>
            </div>
        </div>

        <div id="quiz" class="tab-content">
            <div class="card">
                <h2>üèÜ Kv√≠z - Otestujte sv√© znalosti!</h2>
                <div id="quizContainer"></div>
            </div>
        </div>
    </div>

    <script>
        let score = 0;
        let quizAnswered = {};

        const bioplasticData = {
            pla: { name: 'PLA (Polylaktid)', environmental: 'Vyroben√Ω z obnoviteln√Ωch zdroj≈Ø (kuku≈ôice, cukrov√° t≈ôtina). Kompostovateln√Ω v pr≈Ømyslov√©m kompostu.' },
            phbv: { name: 'PHBV (Polyhydroxybutyr√°t-valer√°t)', environmental: 'Produkov√°n bakteriemi. Plnƒõ biodegradabiln√≠ i v p≈ô√≠rodƒõ, p≈Ødƒõ a mo≈ôi.' }
        };

        const biodegradationData = {
            pla: { industrial: { time: 180, unit: 'dn√≠', percentage: 90, description: 'T√©mƒõ≈ô kompletn√≠ rozklad za 6 mƒõs√≠c≈Ø p≈ôi 58¬∞C' }, home: { time: 365, unit: 'dn√≠', percentage: 60, description: 'Pomal√° degradace, vy≈æaduje vy≈°≈°√≠ teploty' }, soil: { time: '4-5', unit: 'let', percentage: 100, description: 'Velmi pomal√° p≈ôi n√≠zk√Ωch teplot√°ch (pod Tg)' }, marine: { time: '>10', unit: 'let', percentage: 10, description: 'Minim√°ln√≠ degradace v chladn√© vodƒõ' } },
            phbv: { industrial: { time: 60, unit: 'dn√≠', percentage: 95, description: 'Velmi rychl√Ω rozklad d√≠ky mikrobi√°ln√≠ produkci' }, home: { time: 180, unit: 'dn√≠', percentage: 100, description: 'Dob≈ôe se rozkl√°d√° i p≈ôi ni≈æ≈°√≠ch teplot√°ch' }, soil: { time: '6-12', unit: 'mƒõs√≠c≈Ø', percentage: 100, description: 'Rychl√° biodegradace i v p≈Ødƒõ' }, marine: { time: '1-2', unit: 'roky', percentage: 90, description: 'Biodegradabiln√≠ i v mo≈ôsk√©m prost≈ôed√≠' } },
            pe: { industrial: { time: '>50', unit: 'let', percentage: 0, description: 'Nen√≠ biodegradabiln√≠' }, home: { time: '>50', unit: 'let', percentage: 0, description: 'Nen√≠ biodegradabiln√≠' }, soil: { time: '>100', unit: 'let', percentage: 0, description: 'Degradace pouze fotodegradac√≠ na mikroplasty' }, marine: { time: '>100', unit: 'let', percentage: 0, description: 'Trvale zneƒçi≈°≈•uje oce√°ny' } }
        };

        const lcaData = {
            pla: { ghg: 1.7, name: 'PLA' },
            phbv: { ghg: 2.1, name: 'PHBV' },
            pe: { ghg: 1.95, name: 'PE' }
        };

        const productMultipliers = {
            bag: { pla: 0.015, phbv: 0.015, pe: 0.015 },
            packaging: { pla: 0.050, phbv: 0.050, pe: 0.050 },
            cup: { pla: 0.012, phbv: 0.012, pe: 0.012 },
            film: { pla: 1.0, phbv: 1.0, pe: 1.0 }
        };

        const processingParams = {
            pla: { temp: [170, 180, 190], pressure: [60, 80, 100], speed: [40, 50, 60] },
            phbv: { temp: [160, 170, 180], pressure: [50, 70, 90], speed: [30, 40, 50] },
            pe: { temp: [180, 200, 220], pressure: [80, 100, 120], speed: [60, 80, 100] }
        };

        const quizQuestions = [
            { question: 'Kter√Ω bioplast se rozkl√°d√° nejrychleji v pr≈Ømyslov√©m kompostu?', options: ['PLA', 'PHBV', 'PE'], correct: 1, explanation: 'PHBV se rozkl√°d√° nejrychleji (~60 dn√≠), proto≈æe je produkov√°n bakteriemi a mikroorganismy ho snadno rozpozn√°vaj√≠.' },
            { question: 'Proƒç je nutn√© PLA su≈°it p≈ôed zpracov√°n√≠m?', options: ['Kv≈Øli lep≈°√≠ barvƒõ', 'Je citliv√Ω na vlhkost - voda zp≈Øsobuje hydrol√Ωzu', 'Kv≈Øli men≈°√≠ cenƒõ', 'Nen√≠ to nutn√©'], correct: 1, explanation: 'PLA je hydrofiln√≠ a vlhkost zp≈Øsobuje hydrol√Ωzu ≈ôetƒõzc≈Ø p≈ôi zpracov√°n√≠, co≈æ zhor≈°uje mechanick√© vlastnosti.' },
            { question: 'Jak√° je hlavn√≠ v√Ωhoda PHBV?', options: ['Ni≈æ≈°√≠ cena ne≈æ PLA', 'Biodegradabiln√≠ i v mo≈ôi', 'Vy≈°≈°√≠ tepeln√° odolnost ne≈æ PE', 'Ni≈æ≈°√≠ uhl√≠kov√° stopa'], correct: 1, explanation: 'PHBV je jedin√Ω bioplast, kter√Ω se rozkl√°d√° i v mo≈ôsk√©m prost≈ôed√≠ (1-2 roky), na rozd√≠l od PLA (>10 let).' },
            { question: 'Kolik % sn√≠≈æen√≠ uhl√≠kov√© stopy nab√≠z√≠ PLA oproti konvenƒçn√≠m plast≈Øm?', options: ['25%', '50%', 'P≈ôes 75%', '100%'], correct: 2, explanation: 'PLA m√° uhl√≠kovou stopu ~1.7 kg CO‚ÇÇeq/kg, co≈æ je o v√≠ce ne≈æ 75% m√©nƒõ ne≈æ pr≈Ømƒõr konvenƒçn√≠ch plast≈Ø (PE, PP, PET, PS).' }
        ];

        function switchTab(tabName, btn) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            btn.classList.add('active');
            if (tabName === 'quiz') initQuiz();
        }

        function identifyBioplastic() {
            const appearance = document.getElementById('appearance').value;
            const flexibility = document.getElementById('flexibility').value;
            
            if (!appearance || !flexibility) {
                document.getElementById('identificationResult').innerHTML = '<div class="alert alert-warning">Pros√≠m vypl≈àte v≈°echny parametry!</div>';
                return;
            }

            let identified = null;
            
            // Spr√°vn√© kombinace vzork≈Ø
            if (appearance === 'transparent' && flexibility === 'rigid') {
                identified = 'pla';
            } else if (appearance === 'translucent' && flexibility === 'flexible') {
                identified = 'pe';
            } else if (appearance === 'opaque' && flexibility === 'rigid') {
                identified = 'phbv';
            } else {
                // Neplatn√° kombinace - takov√Ω vzorek nen√≠ na uk√°zce
                document.getElementById('identificationResult').innerHTML = '<div class="alert alert-warning"><h4>‚ö†Ô∏è Takov√Ω vzorek nen√≠ na uk√°zce</h4><p>Zkontrolujte pros√≠m parametry a zkuste to znovu. Na stanovi≈°ti jsou pouze specifick√© vzorky PLA, PE a PHBV.</p></div>';
                return;
            }
            
            if (identified === 'pe') {
                document.getElementById('identificationResult').innerHTML = '<div class="result-box"><h4>‚ö†Ô∏è PE - syntetick√Ω plast!</h4><div class="alert alert-warning">NEN√ç to bioplast!</div></div>';
                addScore(5);
                return;
            }

            const data = bioplasticData[identified];
            document.getElementById('identificationResult').innerHTML = `<div class="result-box"><h4>‚úÖ ${data.name}</h4><p>${data.environmental}</p></div>`;
            addScore(5);
        }

        function updateBiodegradation() {
            const material = document.getElementById('material').value;
            const environment = document.getElementById('environment').value;
            const data = biodegradationData[material][environment];
            document.getElementById('biodegradationResult').innerHTML = `
                <div class="result-box">
                    <h4>üìä Doba rozkladu: ${data.time} ${data.unit}</h4>
                    <div class="gauge">
                        <div class="gauge-fill" style="width: ${data.percentage}%">${data.percentage}%</div>
                    </div>
                    <p>${data.description}</p>
                </div>`;
        }

        function updateLCA() {
            const product = document.getElementById('product').value;
            let html = '<div class="result-box"><h4>üåç LCA Anal√Ωza</h4><div class="comparison-grid">';
            ['pla', 'phbv', 'pe'].forEach(mat => {
                const d = lcaData[mat];
                const m = productMultipliers[product][mat];
                html += `<div class="comparison-card"><h4>${d.name}</h4><div class="metric-value">${(d.ghg * m).toFixed(3)} kg CO‚ÇÇ</div></div>`;
            });
            html += '</div></div>';
            document.getElementById('lcaResult').innerHTML = html;
        }

        function updateProcessingDefaults() {
            const material = document.getElementById('processMaterial').value;
            const params = processingParams[material];
            document.getElementById('temperature').value = params.temp[1];
            document.getElementById('pressure').value = params.pressure[1];
            document.getElementById('speed').value = params.speed[1];
            document.getElementById('tempValue').textContent = params.temp[1];
            document.getElementById('pressureValue').textContent = params.pressure[1];
            document.getElementById('speedValue').textContent = params.speed[1];
        }

        function evaluateProcessing() {
            const material = document.getElementById('processMaterial').value;
            const temp = parseInt(document.getElementById('temperature').value);
            const pressure = parseInt(document.getElementById('pressure').value);
            const speed = parseInt(document.getElementById('speed').value);
            const optimal = processingParams[material];
            
            // Vyhodnocen√≠ teploty
            let tempScore = 0;
            let tempDiff = Math.abs(temp - optimal.temp[1]);
            if (tempDiff <= 5) tempScore = 10;
            else if (tempDiff <= 10) tempScore = 7;
            else if (tempDiff <= 15) tempScore = 4;
            else tempScore = 1;
            
            // Vyhodnocen√≠ tlaku
            let pressureScore = 0;
            let pressureDiff = Math.abs(pressure - optimal.pressure[1]);
            if (pressureDiff <= 10) pressureScore = 10;
            else if (pressureDiff <= 20) pressureScore = 7;
            else if (pressureDiff <= 30) pressureScore = 4;
            else pressureScore = 1;
            
            // Vyhodnocen√≠ rychlosti
            let speedScore = 0;
            let speedDiff = Math.abs(speed - optimal.speed[1]);
            if (speedDiff <= 5) speedScore = 10;
            else if (speedDiff <= 10) speedScore = 7;
            else if (speedDiff <= 15) speedScore = 4;
            else speedScore = 1;
            
            // Celkov√© hodnocen√≠
            let totalScore = Math.round((tempScore + pressureScore + speedScore) / 3);
            let quality = '';
            let message = '';
            let alertClass = 'alert-success';
            
            if (totalScore >= 9) {
                quality = '‚úÖ V√Ωborn√° kvalita!';
                message = 'Parametry jsou optim√°ln√≠. V√Ωrobek bude m√≠t vynikaj√≠c√≠ mechanick√© vlastnosti.';
            } else if (totalScore >= 7) {
                quality = '‚úÖ Dobr√° kvalita';
                message = 'Parametry jsou v akceptovateln√©m rozsahu. V√Ωrobek bude funkƒçn√≠ s drobn√Ωmi nedostatky.';
            } else if (totalScore >= 5) {
                quality = '‚ö†Ô∏è Uspokojiv√° kvalita';
                message = 'Parametry se odchyluj√≠ od optima. V√Ωrobek m≈Ø≈æe m√≠t viditeln√© vady nebo sn√≠≈æenou pevnost.';
                alertClass = 'alert-warning';
            } else {
                quality = '‚ùå Nevyhovuj√≠c√≠ kvalita';
                message = 'Parametry jsou mimo doporuƒçen√Ω rozsah. V√Ωrobek bude m√≠t v√°≈æn√© defekty (bubliny, degradace, k≈ôehkost).';
                alertClass = 'alert-warning';
            }
            
            document.getElementById('processingResult').innerHTML = `
                <div class="result-box">
                    <div class="alert ${alertClass}">
                        <h4>${quality}</h4>
                        <p>${message}</p>
                        <p style="margin-top: 10px;"><strong>Teplota:</strong> ${temp}¬∞C (optimum ${optimal.temp[1]}¬∞C) | 
                        <strong>Tlak:</strong> ${pressure} MPa (optimum ${optimal.pressure[1]} MPa) | 
                        <strong>Rychlost:</strong> ${speed} mm/s (optimum ${optimal.speed[1]} mm/s)</p>
                    </div>
                </div>`;
            addScore(totalScore);
        }

        function initQuiz() {
            let html = '<div class="alert alert-success">üí° Kv√≠z p≈ôipraven!</div>';
            quizQuestions.forEach((q, i) => {
                html += `<div class="quiz-question"><h4>${q.question}</h4><div class="quiz-options">`;
                q.options.forEach((opt, j) => {
                    html += `<div class="quiz-option" onclick="checkAnswer(${i}, ${j})">${opt}</div>`;
                });
                html += `</div><div id="exp${i}" style="display:none"></div></div>`;
            });
            document.getElementById('quizContainer').innerHTML = html;
            quizAnswered = {};
        }

        function checkAnswer(q, o) {
            if (quizAnswered[q]) return;
            quizAnswered[q] = true;
            const correct = quizQuestions[q].correct;
            const isCorrect = o === correct;
            document.getElementById(`exp${q}`).innerHTML = `<div class="alert ${isCorrect ? 'alert-success' : 'alert-warning'}">${quizQuestions[q].explanation}</div>`;
            document.getElementById(`exp${q}`).style.display = 'block';
            if (isCorrect) addScore(5);
        }

        function addScore(points) {
            score += points;
            document.getElementById('scoreDisplay').textContent = `Sk√≥re: ${score} bod≈Ø`;
        }

        // Initialize on load
        updateBiodegradation();
        updateLCA();
        updateProcessingDefaults();
    </script>
</body>
</html>

