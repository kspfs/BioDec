<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bioplast Detective - Workshop FS TUL</title>
    <style>
        :root {
            --color-primary: #21808d;
            --color-primary-hover: #1d7480;
            --color-primary-active: #1a6873;
            --color-secondary: rgba(94, 82, 64, 0.12);
            --color-secondary-hover: rgba(94, 82, 64, 0.2);
            --color-background: #fcfcf9;
            --color-surface: #fffFFd;
            --color-text: #13343b;
            --color-text-secondary: #626c71;
            --color-border: rgba(94, 82, 64, 0.2);
            --color-success: #21808d;
            --color-warning: #e68161;
            --color-error: #c0152f;
            --color-cream-50: #fcfcf9;
            --radius-base: 8px;
            --radius-lg: 12px;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-background: #1f2121;
                --color-surface: #262828;
                --color-text: #f5f5f5;
                --color-text-secondary: rgba(167, 169, 169, 0.7);
                --color-border: rgba(119, 124, 124, 0.3);
                --color-secondary: rgba(119, 124, 124, 0.15);
                --color-secondary-hover: rgba(119, 124, 124, 0.25);
                --color-primary: #32b8c6;
                --color-primary-hover: #2da6b2;
                --color-primary-active: #2996a1;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--color-background);
            color: var(--color-text);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 20px;
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }

        h1 {
            color: var(--color-primary);
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            color: var(--color-text-secondary);
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 24px;
            background: var(--color-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: 1em;
            color: var(--color-text);
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab-btn:hover {
            background: var(--color-secondary-hover);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: var(--color-primary);
            color: var(--color-cream-50);
            border-color: var(--color-primary);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: var(--color-surface);
            padding: 30px;
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--color-border);
        }

        .card h2 {
            color: var(--color-primary);
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .card h3 {
            color: var(--color-text);
            margin: 20px 0 15px 0;
            font-size: 1.3em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--color-text);
        }

        select, input[type="range"] {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            font-size: 1em;
            background: var(--color-background);
            color: var(--color-text);
        }

        input[type="range"] {
            padding: 0;
            height: 40px;
        }

        .btn-primary {
            background: var(--color-primary);
            color: var(--color-cream-50);
            padding: 14px 28px;
            border: none;
            border-radius: var(--radius-base);
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .result-box {
            background: var(--color-secondary);
            padding: 20px;
            border-radius: var(--radius-base);
            margin-top: 20px;
            border-left: 4px solid var(--color-primary);
        }

        .result-box h4 {
            color: var(--color-primary);
            margin-bottom: 10px;
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .property-item {
            background: var(--color-background);
            padding: 15px;
            border-radius: var(--radius-base);
            border: 1px solid var(--color-border);
        }

        .property-label {
            font-weight: 500;
            color: var(--color-text-secondary);
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .property-value {
            font-size: 1.2em;
            color: var(--color-text);
            font-weight: 600;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            align-items: flex-start;
        }

        .timeline-marker {
            min-width: 60px;
            height: 60px;
            background: var(--color-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            text-align: center;
            padding: 5px;
        }

        .timeline-content {
            flex: 1;
            background: var(--color-background);
            padding: 20px;
            border-radius: var(--radius-base);
            border: 1px solid var(--color-border);
        }

        .timeline-content h4 {
            color: var(--color-primary);
            margin-bottom: 8px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .comparison-card {
            background: var(--color-background);
            padding: 20px;
            border-radius: var(--radius-base);
            border: 2px solid var(--color-border);
            text-align: center;
            transition: all 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
            border-color: var(--color-primary);
        }

        .comparison-card h4 {
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .metric {
            margin: 10px 0;
        }

        .metric-label {
            font-size: 0.9em;
            color: var(--color-text-secondary);
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--color-text);
        }

        .metric-unit {
            font-size: 0.8em;
            color: var(--color-text-secondary);
        }

        .gauge-container {
            margin: 30px 0;
        }

        .gauge {
            width: 100%;
            height: 30px;
            background: var(--color-secondary);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-top: 10px;
        }

        .gauge-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-success), var(--color-primary));
            border-radius: 15px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            color: white;
            font-weight: bold;
        }

        .quiz-section {
            margin-top: 30px;
        }

        .quiz-question {
            background: var(--color-secondary);
            padding: 20px;
            border-radius: var(--radius-base);
            margin-bottom: 15px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .quiz-option {
            padding: 15px;
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-base);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--color-primary);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            border-color: var(--color-success);
            background: rgba(33, 128, 141, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--color-error);
            background: rgba(192, 21, 47, 0.1);
        }

        .score-display {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--color-primary);
            color: white;
            padding: 15px 25px;
            border-radius: var(--radius-lg);
            font-size: 1.2em;
            font-weight: bold;
            box-shadow: var(--shadow-md);
            z-index: 1000;
        }

        .processing-params {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .param-control {
            background: var(--color-background);
            padding: 20px;
            border-radius: var(--radius-base);
            border: 1px solid var(--color-border);
        }

        .slider-value {
            display: inline-block;
            min-width: 60px;
            text-align: right;
            font-weight: bold;
            color: var(--color-primary);
        }

        .alert {
            padding: 15px;
            border-radius: var(--radius-base);
            margin: 15px 0;
            border-left: 4px solid;
        }

        .alert-success {
            background: rgba(33, 128, 141, 0.1);
            border-color: var(--color-success);
            color: var(--color-success);
        }

        .alert-warning {
            background: rgba(230, 129, 97, 0.1);
            border-color: var(--color-warning);
            color: var(--color-warning);
        }

        .alert-error {
            background: rgba(192, 21, 47, 0.1);
            border-color: var(--color-error);
            color: var(--color-error);
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8em; }
            .nav-tabs { flex-direction: column; }
            .tab-btn { width: 100%; }
            .comparison-grid { grid-template-columns: 1fr; }
            .score-display { 
                position: static;
                margin-bottom: 20px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="score-display" id="scoreDisplay">Sk√≥re: 0 bod≈Ø</div>

    <div class="container">
        <header>
            <h1>üå± Bioplast Detective</h1>
            <p class="subtitle">Interaktivn√≠ workshop - Udr≈æiteln√© in≈æen√Ωrstv√≠ FS TUL</p>
        </header>

        <nav class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('detective')">üîç Identifikace</button>
            <button class="tab-btn" onclick="switchTab('biodegradation')">‚è±Ô∏è Biodegradace</button>
            <button class="tab-btn" onclick="switchTab('lca')">üåç LCA Anal√Ωza</button>
            <button class="tab-btn" onclick="switchTab('processing')">‚öôÔ∏è Zpracov√°n√≠</button>
            <button class="tab-btn" onclick="switchTab('quiz')">üèÜ Kv√≠z</button>
        </nav>

        <!-- Tab 1: Bioplast Detective -->
        <div id="detective" class="tab-content active">
            <div class="card">
                <h2>üîç Bioplast Detective - Identifikace materi√°lu</h2>
                <p>M√°te p≈ôed sebou vzorek bioplasu. Odpovƒõzte na n√°sleduj√≠c√≠ ot√°zky a identifikujte materi√°l!</p>

                <div class="form-group">
                    <label for="sampleNumber">ƒå√≠slo vzorku na stanovi≈°ti:</label>
                    <select id="sampleNumber">
                        <option value="">-- Vyberte vzorek --</option>
                        <option value="1">Vzorek 1</option>
                        <option value="2">Vzorek 2</option>
                        <option value="3">Vzorek 3</option>
                        <option value="4">Vzorek 4</option>
                        <option value="5">Vzorek 5</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="appearance">Vzhled a pr≈Øhlednost:</label>
                    <select id="appearance">
                        <option value="">-- Vyberte --</option>
                        <option value="transparent">Pr≈Øhledn√Ω, ƒçir√Ω</option>
                        <option value="translucent">Pr≈Øsvitn√Ω, ml√©ƒçnƒõ zakalen√Ω</option>
                        <option value="opaque">Nepr≈Øhledn√Ω, b√≠l√Ω/barevn√Ω</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="flexibility">Ohebnost materi√°lu:</label>
                    <select id="flexibility">
                        <option value="">-- Vyberte --</option>
                        <option value="rigid">Tuh√Ω, k≈ôehk√Ω (l√°me se)</option>
                        <option value="flexible">Ohebn√Ω, pru≈æn√Ω (vrac√≠ se do tvaru)</option>
                        <option value="soft">Velmi mƒõkk√Ω, elastick√Ω</option>
                    </select>
                </div>

                <button class="btn-primary" onclick="identifyBioplastic()">Identifikovat bioplast</button>

                <div id="identificationResult"></div>
            </div>
        </div>

        <!-- Tab 2: Biodegradation -->
        <div id="biodegradation" class="tab-content">
            <div class="card">
                <h2>‚è±Ô∏è Biodegradaƒçn√≠ kalkulaƒçka</h2>
                <p>Porovnejte dobu biodegradace r≈Øzn√Ωch materi√°l≈Ø v r≈Øzn√Ωch prost≈ôed√≠ch.</p>

                <div class="form-group">
                    <label for="material">Vyberte materi√°l:</label>
                    <select id="material" onchange="updateBiodegradation()">
                        <option value="pla">PLA (Polylaktid)</option>
                        <option value="phbv">PHBV (Polyhydroxybutyr√°t-valer√°t)</option>
                        <option value="pbat">PBAT (Polyadip√°t-tereftal√°t)</option>
                        <option value="pe">Konvenƒçn√≠ PE (Polyethylen)</option>
                        <option value="pp">Konvenƒçn√≠ PP (Polypropylen)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="environment">Prost≈ôed√≠:</label>
                    <select id="environment" onchange="updateBiodegradation()">
                        <option value="industrial">Pr≈Ømyslov√© kompostov√°n√≠ (58¬∞C)</option>
                        <option value="home">Dom√°c√≠ kompost (25¬∞C)</option>
                        <option value="soil">P≈Øda (20-30¬∞C)</option>
                        <option value="marine">Mo≈ôsk√© prost≈ôed√≠</option>
                    </select>
                </div>

                <div id="biodegradationResult"></div>
            </div>
        </div>

        <!-- Tab 3: LCA -->
        <div id="lca" class="tab-content">
            <div class="card">
                <h2>üåç LCA Kompar√°tor - Uhl√≠kov√° stopa</h2>
                <p>Porovnejte environment√°ln√≠ dopad r≈Øzn√Ωch plast≈Ø.</p>

                <div class="form-group">
                    <label for="product">Vyberte produkt:</label>
                    <select id="product" onchange="updateLCA()">
                        <option value="bag">N√°kupn√≠ ta≈°ka</option>
                        <option value="packaging">Obalov√Ω materi√°l</option>
                        <option value="cup">Jednor√°zov√Ω kel√≠mek</option>
                        <option value="film">F√≥lie (1 kg)</option>
                    </select>
                </div>

                <div id="lcaResult"></div>
            </div>
        </div>

        <!-- Tab 4: Processing -->
        <div id="processing" class="tab-content">
            <div class="card">
                <h2>‚öôÔ∏è Zpracovatelnost Challenge</h2>
                <p>Nastavte optim√°ln√≠ parametry pro zpracov√°n√≠ vybran√©ho bioplasu.</p>

                <div class="form-group">
                    <label for="processMaterial">Vyberte bioplast:</label>
                    <select id="processMaterial" onchange="updateProcessingDefaults()">
                        <option value="pla">PLA</option>
                        <option value="phbv">PHBV</option>
                        <option value="pbat">PBAT</option>
                        <option value="pla-pbat">PLA/PBAT smƒõs</option>
                    </select>
                </div>

                <div class="processing-params">
                    <div class="param-control">
                        <label for="temperature">Teplota taven√≠: <span class="slider-value" id="tempValue">180</span>¬∞C</label>
                        <input type="range" id="temperature" min="140" max="220" value="180" oninput="updateSliderValue('tempValue', this.value)">
                    </div>

                    <div class="param-control">
                        <label for="pressure">Vst≈ôikovac√≠ tlak: <span class="slider-value" id="pressureValue">80</span> MPa</label>
                        <input type="range" id="pressure" min="40" max="140" value="80" oninput="updateSliderValue('pressureValue', this.value)">
                    </div>

                    <div class="param-control">
                        <label for="speed">Rychlost vst≈ôiku: <span class="slider-value" id="speedValue">50</span> mm/s</label>
                        <input type="range" id="speed" min="20" max="100" value="50" oninput="updateSliderValue('speedValue', this.value)">
                    </div>
                </div>

                <button class="btn-primary" onclick="evaluateProcessing()">Vyhodnotit parametry</button>

                <div id="processingResult"></div>
            </div>
        </div>

        <!-- Tab 5: Quiz -->
        <div id="quiz" class="tab-content">
            <div class="card">
                <h2>üèÜ Kv√≠z - Otestujte sv√© znalosti!</h2>
                <div class="quiz-section" id="quizContainer"></div>
            </div>
        </div>
    </div>

    <script>
        let score = 0;
        let quizAnswered = {};

        const bioplasticData = {
            pla: {
                name: 'PLA (Polylaktid)',
                properties: {
                    temperature: '150-180¬∞C',
                    melting: '150-160¬∞C',
                    tensile: '50-70 MPa',
                    elongation: '2-6%',
                    density: '1.24 g/cm¬≥'
                },
                applications: 'Obaly, lahve, 3D tisk, textilie',
                processing: 'Dob≈ôe zpracovateln√Ω vst≈ôikov√°n√≠m a extruz√≠. Citliv√Ω na vlhkost - nutn√© su≈°en√≠.',
                environmental: 'Vyroben√Ω z obnoviteln√Ωch zdroj≈Ø (kuku≈ôice, cukrov√° t≈ôtina). Kompostovateln√Ω v pr≈Ømyslov√©m kompostu.'
            },
            phbv: {
                name: 'PHBV (Polyhydroxybutyr√°t-valer√°t)',
                properties: {
                    temperature: '160-180¬∞C',
                    melting: '150-170¬∞C',
                    tensile: '20-40 MPa',
                    elongation: '5-50%',
                    density: '1.25 g/cm¬≥'
                },
                applications: 'Medic√≠nsk√© aplikace, obaly, f√≥lie',
                processing: '√özk√© procesn√≠ okno. Degraduje p≈ôi vysok√Ωch teplot√°ch. Vy≈æaduje p≈ôesnou kontrolu.',
                environmental: 'Produkov√°n bakteriemi. Plnƒõ biodegradabiln√≠ i v p≈ô√≠rodƒõ, p≈Ødƒõ a mo≈ôi.'
            },
            pbat: {
                name: 'PBAT (Polyadip√°t-tereftal√°t)',
                properties: {
                    temperature: '140-160¬∞C',
                    melting: '110-120¬∞C',
                    tensile: '15-35 MPa',
                    elongation: '400-700%',
                    density: '1.26 g/cm¬≥'
                },
                applications: 'S√°ƒçky, f√≥lie, mulƒçovac√≠ f√≥lie v zemƒõdƒõlstv√≠',
                processing: 'Velmi dob≈ôe zpracovateln√Ω. ≈†irok√© procesn√≠ okno. ƒåasto se m√≠s√≠ s PLA.',
                environmental: 'ƒå√°steƒçnƒõ bio-based. Kompostovateln√Ω. N√≠zk√° rychlost biodegradace v p≈Ødƒõ.'
            },
            'pla-pbat': {
                name: 'PLA/PBAT smƒõs',
                properties: {
                    temperature: '150-165¬∞C',
                    melting: '140-155¬∞C',
                    tensile: '30-50 MPa',
                    elongation: '50-300%',
                    density: '1.25 g/cm¬≥'
                },
                applications: 'Flexibiln√≠ obaly, ta≈°ky, f√≥lie',
                processing: 'Kombinuje p≈ôednosti obou materi√°l≈Ø. Snadn√© zpracov√°n√≠.',
                environmental: 'Rychlej≈°√≠ biodegradace ne≈æ ƒçist√© PLA. Dobr√Ω kompromis vlastnost√≠.'
            }
        };

        const biodegradationData = {
            pla: {
                industrial: { time: 180, unit: 'dn√≠', percentage: 90, description: 'T√©mƒõ≈ô kompletn√≠ rozklad za 6 mƒõs√≠c≈Ø p≈ôi 58¬∞C' },
                home: { time: 365, unit: 'dn√≠', percentage: 60, description: 'Pomal√° degradace, vy≈æaduje vy≈°≈°√≠ teploty' },
                soil: { time: '4-5', unit: 'let', percentage: 100, description: 'Velmi pomal√° p≈ôi n√≠zk√Ωch teplot√°ch (pod Tg)' },
                marine: { time: '>10', unit: 'let', percentage: 10, description: 'Minim√°ln√≠ degradace v chladn√© vodƒõ' }
            },
            phbv: {
                industrial: { time: 60, unit: 'dn√≠', percentage: 95, description: 'Velmi rychl√Ω rozklad d√≠ky mikrobi√°ln√≠ produkci' },
                home: { time: 180, unit: 'dn√≠', percentage: 100, description: 'Dob≈ôe se rozkl√°d√° i p≈ôi ni≈æ≈°√≠ch teplot√°ch' },
                soil: { time: '6-12', unit: 'mƒõs√≠c≈Ø', percentage: 100, description: 'Rychl√° biodegradace i v p≈Ødƒõ' },
                marine: { time: '1-2', unit: 'roky', percentage: 90, description: 'Biodegradabiln√≠ i v mo≈ôsk√©m prost≈ôed√≠' }
            },
            pbat: {
                industrial: { time: 90, unit: 'dn√≠', percentage: 60, description: 'St≈ôednƒõ rychl√° degradace v kompostu' },
                home: { time: 270, unit: 'dn√≠', percentage: 50, description: 'Pomal√Ω rozklad p≈ôi dom√°c√≠m kompostov√°n√≠' },
                soil: { time: '2-4', unit: 'roky', percentage: 30, description: 'Velmi pomal√° degradace v p≈Ødƒõ' },
                marine: { time: '>15', unit: 'let', percentage: 5, description: 'Minim√°ln√≠ degradace v mo≈ôi' }
            },
            pe: {
                industrial: { time: '>50', unit: 'let', percentage: 0, description: 'Nen√≠ biodegradabiln√≠' },
                home: { time: '>50', unit: 'let', percentage: 0, description: 'Nen√≠ biodegradabiln√≠' },
                soil: { time: '>100', unit: 'let', percentage: 0, description: 'Degradace pouze fotodegradac√≠ na mikroplasty' },
                marine: { time: '>100', unit: 'let', percentage: 0, description: 'Trvale zneƒçi≈°≈•uje oce√°ny' }
            },
            pp: {
                industrial: { time: '>50', unit: 'let', percentage: 0, description: 'Nen√≠ biodegradabiln√≠' },
                home: { time: '>50', unit: 'let', percentage: 0, description: 'Nen√≠ biodegradabiln√≠' },
                soil: { time: '>100', unit: 'let', percentage: 0, description: 'Degradace pouze fotodegradac√≠ na mikroplasty' },
                marine: { time: '>100', unit: 'let', percentage: 0, description: 'Trvale zneƒçi≈°≈•uje oce√°ny' }
            }
        };

        const lcaData = {
            pla: { ghg: 1.7, energy: 46, water: 85, name: 'PLA', bio: true },
            phbv: { ghg: 2.1, energy: 52, water: 95, name: 'PHBV', bio: true },
            pbat: { ghg: 1.9, energy: 48, water: 80, name: 'PBAT', bio: true },
            pe: { ghg: 1.95, energy: 77, water: 45, name: 'PE', bio: false },
            pp: { ghg: 1.95, energy: 73, water: 42, name: 'PP', bio: false }
        };

        const productMultipliers = {
            bag: { pla: 0.015, phbv: 0.015, pbat: 0.015, pe: 0.015, pp: 0.015 },
            packaging: { pla: 0.050, phbv: 0.050, pbat: 0.050, pe: 0.050, pp: 0.050 },
            cup: { pla: 0.012, phbv: 0.012, pbat: 0.012, pe: 0.012, pp: 0.012 },
            film: { pla: 1.0, phbv: 1.0, pbat: 1.0, pe: 1.0, pp: 1.0 }
        };

        const processingParams = {
            pla: { temp: [170, 180, 190], pressure: [60, 80, 100], speed: [40, 50, 60] },
            phbv: { temp: [160, 170, 180], pressure: [50, 70, 90], speed: [30, 40, 50] },
            pbat: { temp: [150, 155, 165], pressure: [50, 70, 90], speed: [50, 60, 70] },
            'pla-pbat': { temp: [155, 160, 170], pressure: [60, 75, 95], speed: [45, 55, 65] }
        };

        let allQuizQuestions = [
            {
                question: 'Kter√Ω bioplast se rozkl√°d√° nejrychleji v pr≈Ømyslov√©m kompostu?',
                options: ['PLA', 'PHBV', 'PBAT', 'PLA/PBAT smƒõs'],
                correct: 1,
                explanation: 'PHBV se rozkl√°d√° nejrychleji (~60 dn√≠), proto≈æe je produkov√°n bakteriemi a mikroorganismy ho snadno rozpozn√°vaj√≠.'
            },
            {
                question: 'Proƒç je nutn√© PLA su≈°it p≈ôed zpracov√°n√≠m?',
                options: [
                    'Kv≈Øli lep≈°√≠ barvƒõ',
                    'Je citliv√Ω na vlhkost - voda zp≈Øsobuje hydrol√Ωzu',
                    'Kv≈Øli men≈°√≠ cenƒõ',
                    'Nen√≠ to nutn√©'
                ],
                correct: 1,
                explanation: 'PLA je hydrofiln√≠ a vlhkost zp≈Øsobuje hydrol√Ωzu ≈ôetƒõzc≈Ø p≈ôi zpracov√°n√≠, co≈æ zhor≈°uje mechanick√© vlastnosti.'
            },
            {
                question: 'Jak√° je hlavn√≠ v√Ωhoda PBAT oproti PLA?',
                options: [
                    'Ni≈æ≈°√≠ cena',
                    'Vy≈°≈°√≠ pevnost',
                    'Mnohem vy≈°≈°√≠ ta≈ænost (400-700%)',
                    'Vy≈°≈°√≠ tepeln√° odolnost'
                ],
                correct: 2,
                explanation: 'PBAT m√° excelentn√≠ ta≈ænost (400-700%), zat√≠mco PLA je k≈ôehk√Ω (2-6%). Proto se ƒçasto m√≠s√≠ pro flexibiln√≠ aplikace.'
            },
            {
                question: 'Kolik % sn√≠≈æen√≠ uhl√≠kov√© stopy nab√≠z√≠ PLA oproti konvenƒçn√≠m plast≈Øm?',
                options: ['25%', '50%', 'P≈ôes 75%', '100%'],
                correct: 2,
                explanation: 'PLA m√° uhl√≠kovou stopu ~1.7 kg CO‚ÇÇeq/kg, co≈æ je o v√≠ce ne≈æ 75% m√©nƒõ ne≈æ pr≈Ømƒõr konvenƒçn√≠ch plast≈Ø (PE, PP, PET, PS).'
            },
            {
                question: 'Co se stane s PLA, pokud se biodegraduje na skl√°dce m√≠sto kompostu?',
                options: [
                    'Rozlo≈æ√≠ se rychleji',
                    'Emise sklen√≠kov√Ωch plyn≈Ø se zv√Ω≈°√≠ o 16-163%',
                    'Nic se nezmƒõn√≠',
                    'Stane se ne≈°kodn√Ωm'
                ],
                correct: 1,
                explanation: 'Anaerobn√≠ rozklad PLA na skl√°dce produkuje metan (CH‚ÇÑ), kter√Ω m√° 25√ó vy≈°≈°√≠ sklen√≠kov√Ω efekt ne≈æ CO‚ÇÇ. Proto je d≈Øle≈æit√© spr√°vn√© kompostov√°n√≠!'
            },
            {
                question: 'Kter√° teplota je optim√°ln√≠ pro vst≈ôikov√°n√≠ PLA?',
                options: ['140-150¬∞C', '170-190¬∞C', '200-220¬∞C', '230-250¬∞C'],
                correct: 1,
                explanation: 'PLA se zpracov√°v√° p≈ôi 170-190¬∞C. Ni≈æ≈°√≠ teploty = ≈°patn√© vyteƒçen√≠, vy≈°≈°√≠ = degradace materi√°lu.'
            },
            {
                question: 'Proƒç se PBAT ƒçasto m√≠ch√° s PLA?',
                options: [
                    'Zlevnƒõn√≠ v√Ωroby',
                    'Zlep≈°en√≠ flexibility a zpracovatelnosti',
                    'Zlep≈°en√≠ barvy',
                    'Sn√≠≈æen√≠ hmotnosti'
                ],
                correct: 1,
                explanation: 'PBAT p≈ôid√°v√° PLA flexibilitu a ta≈ænost, zat√≠mco PLA poskytuje pevnost. Smƒõs kombinuje p≈ôednosti obou materi√°l≈Ø a l√©pe se zpracov√°v√°.'
            },
            {
                question: 'Kde se PHBV rozkl√°d√° nejl√©pe?',
                options: [
                    'Pouze v pr≈Ømyslov√©m kompostu',
                    'V p≈Ødƒõ, kompostu i mo≈ôsk√©m prost≈ôed√≠',
                    'Pouze v p≈Ødƒõ',
                    'Nikde se nerozkl√°d√°'
                ],
                correct: 1,
                explanation: 'PHBV je unik√°tn√≠ - rozkl√°d√° se t√©mƒõ≈ô v≈°ude vƒçetnƒõ mo≈ôsk√©ho prost≈ôed√≠, proto≈æe je produkov√°n p≈ô√≠rodn√≠mi bakteriemi.'
            }
        ];

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'quiz') {
                initQuiz();
            }
        }

        function identifyBioplastic() {
            const sampleNumber = document.getElementById('sampleNumber').value;
            const appearance = document.getElementById('appearance').value;
            const flexibility = document.getElementById('flexibility').value;

            if (!sampleNumber || !appearance || !flexibility) {
                document.getElementById('identificationResult').innerHTML = 
                    '<div class="alert alert-warning">Pros√≠m vypl≈àte v≈°echny parametry!</div>';
                return;
            }

            let identified = '';
            let matchedMaterial = '';
            let confidence = '';

            // Vylep≈°en√° identifikaƒçn√≠ logika s PE detekc√≠
            if (appearance === 'transparent' && flexibility === 'rigid') {
                identified = 'pla';
                matchedMaterial = 'PLA (Polylaktid)';
                confidence = 'vysok√°';
            } else if (appearance === 'transparent' && flexibility === 'flexible') {
                identified = 'pe';
                matchedMaterial = 'PE (Polyethylen) - syntetick√Ω plast';
                confidence = 'vysok√°';
            } else if (appearance === 'transparent' && flexibility === 'soft') {
                identified = 'pe';
                matchedMaterial = 'PE (Polyethylen) - syntetick√Ω plast';
                confidence = 'vysok√°';
            } else if (appearance === 'opaque' && flexibility === 'flexible') {
                identified = 'phbv';
                matchedMaterial = 'PHBV (Polyhydroxybutyr√°t-valer√°t)';
                confidence = 'vysok√°';
            } else if ((appearance === 'translucent' || appearance === 'opaque') && flexibility === 'soft') {
                identified = 'pbat';
                matchedMaterial = 'PBAT (Polyadip√°t-tereftal√°t)';
                confidence = 'vysok√°';
            } else if (appearance === 'translucent' && flexibility === 'flexible') {
                identified = 'pla-pbat';
                matchedMaterial = 'PLA/PBAT smƒõs';
                confidence = 'vysok√°';
            } else if (flexibility === 'rigid') {
                identified = 'pla';
                matchedMaterial = 'PLA (Polylaktid)';
                confidence = 'st≈ôedn√≠';
            } else if (flexibility === 'flexible' || flexibility === 'soft') {
                identified = 'pe';
                matchedMaterial = 'PE (Polyethylen) - mo≈æn√° syntetick√Ω plast';
                confidence = 'st≈ôedn√≠';
            } else {
                identified = 'pla-pbat';
                matchedMaterial = 'PLA/PBAT smƒõs';
                confidence = 'n√≠zk√°';
            }

            // Pro PE (syntetick√Ω plast) zobraz√≠me speci√°ln√≠ informace
            if (identified === 'pe') {
                const resultHTML = `
                    <div class="result-box">
                        <h4>‚ö†Ô∏è Identifikovan√Ω materi√°l: ${matchedMaterial}</h4>
                        <div class="alert alert-warning">
                            <strong>Pozor!</strong> Toto je konvenƒçn√≠ syntetick√Ω plast vyroben√Ω z ropy - NEN√ç to bioplast!
                        </div>
                        
                        <h3>Vlastnosti PE:</h3>
                        <div class="property-grid">
                            <div class="property-item">
                                <div class="property-label">Teplota zpracov√°n√≠</div>
                                <div class="property-value">180-240¬∞C</div>
                            </div>
                            <div class="property-item">
                                <div class="property-label">P≈Øvod</div>
                                <div class="property-value">Fosiln√≠ (ropa)</div>
                            </div>
                            <div class="property-item">
                                <div class="property-label">Biodegradabilita</div>
                                <div class="property-value" style="color: var(--color-error);">NEN√ç biodegradabiln√≠</div>
                            </div>
                            <div class="property-item">
                                <div class="property-label">Doba rozkladu</div>
                                <div class="property-value" style="color: var(--color-error);">&gt;100 let</div>
                            </div>
                        </div>

                        <h3>Porovn√°n√≠ s bioplasty:</h3>
                        <div class="alert alert-error">
                            <strong>‚ùå Nev√Ωhody PE:</strong><br>
                            ‚Ä¢ Vyroben z neobnoviteln√Ωch fosiln√≠ch zdroj≈Ø<br>
                            ‚Ä¢ Nerozlo≈æ√≠ se v p≈ô√≠rodƒõ - trv√° stovky let<br>
                            ‚Ä¢ Vy≈°≈°√≠ uhl√≠kov√° stopa<br>
                            ‚Ä¢ Degraduje jen na mikroplasty (zneƒçi≈°≈•uje ≈æivotn√≠ prost≈ôed√≠)
                        </div>

                        <div class="alert alert-success">
                            <strong>‚úÖ V√Ωhody bioplast≈Ø (PLA, PHBV, PBAT):</strong><br>
                            ‚Ä¢ Vyrobeny z obnoviteln√Ωch zdroj≈Ø (kuku≈ôice, bakterie)<br>
                            ‚Ä¢ Biodegradabiln√≠ v kompostu (2-12 mƒõs√≠c≈Ø)<br>
                            ‚Ä¢ A≈æ o 75% ni≈æ≈°√≠ uhl√≠kov√° stopa<br>
                            ‚Ä¢ Nezneƒçi≈°≈•uj√≠ ≈æivotn√≠ prost≈ôed√≠ mikroplasty
                        </div>
                    </div>
                `;
                document.getElementById('identificationResult').innerHTML = resultHTML;
                addScore(5);
                return;
            }

            const data = bioplasticData[identified];
            
            const confidenceColor = confidence === 'vysok√°' ? 'var(--color-success)' : confidence === 'st≈ôedn√≠' ? 'var(--color-warning)' : 'var(--color-error)';
            
            const resultHTML = `
                <div class="result-box">
                    <h4>‚úÖ Vzorek ${sampleNumber}: ${data.name}</h4>
                    <div class="alert alert-success">
                        <strong>Jistota identifikace:</strong> <span style="color: ${confidenceColor}; font-weight: bold;">${confidence}</span>
                    </div>
                    <p><strong>Aplikace:</strong> ${data.applications}</p>
                    
                    <h3>Vlastnosti materi√°lu:</h3>
                    <div class="property-grid">
                        <div class="property-item">
                            <div class="property-label">Teplota zpracov√°n√≠</div>
                            <div class="property-value">${data.properties.temperature}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-label">Teplota t√°n√≠</div>
                            <div class="property-value">${data.properties.melting}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-label">Pevnost v tahu</div>
                            <div class="property-value">${data.properties.tensile}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-label">Ta≈ænost</div>
                            <div class="property-value">${data.properties.elongation}</div>
                        </div>
                    </div>

                    <h3>Zpracovatelnost:</h3>
                    <p>${data.processing}</p>

                    <h3>Environment√°ln√≠ aspekty:</h3>
                    <p>${data.environmental}</p>
                </div>
            `;

            document.getElementById('identificationResult').innerHTML = resultHTML;
            addScore(5);
        }

        function updateBiodegradation() {
            const material = document.getElementById('material').value;
            const environment = document.getElementById('environment').value;
            
            const data = biodegradationData[material][environment];
            const materialName = material === 'pla' ? 'PLA' : material === 'phbv' ? 'PHBV' : material === 'pbat' ? 'PBAT' : material === 'pe' ? 'PE' : 'PP';
            const envName = environment === 'industrial' ? 'Pr≈Ømyslov√© kompostov√°n√≠ (58¬∞C)' : 
                           environment === 'home' ? 'Dom√°c√≠ kompost (25¬∞C)' : 
                           environment === 'soil' ? 'P≈Øda (20-30¬∞C)' : 'Mo≈ôsk√© prost≈ôed√≠';

            const resultHTML = `
                <div class="result-box">
                    <h4>üìä ${materialName} v prost≈ôed√≠: ${envName}</h4>
                    
                    <div class="gauge-container">
                        <div class="property-label">Doba do ${data.percentage}% rozkladu</div>
                        <h3 style="color: var(--color-primary); font-size: 2.5em; margin: 10px 0;">${data.time} ${data.unit}</h3>
                    </div>

                    <div class="gauge-container">
                        <div class="property-label">Biodegradabilita</div>
                        <div class="gauge">
                            <div class="gauge-fill" style="width: ${data.percentage}%">${data.percentage}%</div>
                        </div>
                    </div>

                    <div class="alert alert-success" style="margin-top: 20px;">
                        ${data.description}
                    </div>

                    <h3>Porovn√°n√≠ s jin√Ωmi materi√°ly:</h3>
                    <div class="timeline">
                        ${generateTimeline(environment)}
                    </div>
                </div>
            `;

            document.getElementById('biodegradationResult').innerHTML = resultHTML;
        }

        function generateTimeline(environment) {
            const materials = ['phbv', 'pla', 'pbat', 'pe'];
            let html = '';

            materials.forEach(mat => {
                const data = biodegradationData[mat][environment];
                const name = mat === 'pla' ? 'PLA' : mat === 'phbv' ? 'PHBV' : mat === 'pbat' ? 'PBAT' : 'PE (konvenƒçn√≠)';
                
                html += `
                    <div class="timeline-item">
                        <div class="timeline-marker">${data.time} ${data.unit}</div>
                        <div class="timeline-content">
                            <h4>${name}</h4>
                            <p>${data.description}</p>
                            <div class="gauge">
                                <div class="gauge-fill" style="width: ${data.percentage}%">${data.percentage}%</div>
                            </div>
                        </div>
                    </div>
                `;
            });

            return html;
        }

        function updateLCA() {
            const product = document.getElementById('product').value;
            const productName = product === 'bag' ? 'N√°kupn√≠ ta≈°ka (15g)' : 
                               product === 'packaging' ? 'Obalov√Ω materi√°l (50g)' : 
                               product === 'cup' ? 'Jednor√°zov√Ω kel√≠mek (12g)' : 'F√≥lie (1 kg)';

            const materials = ['pla', 'phbv', 'pbat', 'pe', 'pp'];
            const multiplier = productMultipliers[product];
            
            let html = `
                <div class="result-box">
                    <h4>üåç Environment√°ln√≠ dopad: ${productName}</h4>
                    <p>Srovn√°n√≠ kl√≠ƒçov√Ωch ukazatel≈Ø ≈æivotn√≠ho cyklu (LCA) pro konkr√©tn√≠ produkt</p>

                    <div class="comparison-grid">
                        ${materials.map(mat => {
                            const data = lcaData[mat];
                            const m = multiplier[mat];
                            const ghgProduct = (data.ghg * m).toFixed(3);
                            const energyProduct = (data.energy * m).toFixed(1);
                            const waterProduct = (data.water * m).toFixed(1);
                            
                            return `
                                <div class="comparison-card" style="border-color: ${data.bio ? 'var(--color-success)' : 'var(--color-error)'}">
                                    <h4>${data.name} ${data.bio ? 'üå±' : 'üõ¢Ô∏è'}</h4>
                                    
                                    <div class="metric">
                                        <div class="metric-label">Emise CO‚ÇÇ</div>
                                        <div class="metric-value">${ghgProduct} <span class="metric-unit">kg CO‚ÇÇeq</span></div>
                                    </div>
                                    
                                    <div class="metric">
                                        <div class="metric-label">Spot≈ôeba energie</div>
                                        <div class="metric-value">${energyProduct} <span class="metric-unit">MJ</span></div>
                                    </div>
                                    
                                    <div class="metric">
                                        <div class="metric-label">Spot≈ôeba vody</div>
                                        <div class="metric-value">${waterProduct} <span class="metric-unit">L</span></div>
                                    </div>

                                    ${data.bio ? '<div class="alert alert-success" style="margin-top:10px; padding:8px; font-size:0.85em;">Obnoviteln√Ω zdroj</div>' : '<div class="alert alert-error" style="margin-top:10px; padding:8px; font-size:0.85em;">Fosiln√≠ zdroj</div>'}
                                </div>
                            `;
                        }).join('')}
                    </div>

                    <div class="alert alert-success" style="margin-top: 30px;">
                        <strong>üí° Kl√≠ƒçov√© zji≈°tƒõn√≠:</strong> PLA m√° uhl√≠kovou stopu ~1.7 kg CO‚ÇÇeq/kg, co≈æ p≈ôedstavuje v√Ωznamnou √∫sporu oproti pr≈Ømƒõru konvenƒçn√≠ch plast≈Ø. 
                        PHBV a PBAT maj√≠ podobnƒõ n√≠zkou stopu jako PLA. Bioplasty vy≈æaduj√≠ v√≠ce vody pro pƒõstov√°n√≠ surovin, ale m√©nƒõ fosiln√≠ energie.
                    </div>

                    <div class="alert alert-warning" style="margin-top: 15px;">
                        <strong>‚ö†Ô∏è D≈Øle≈æit√©:</strong> End-of-life management je kl√≠ƒçov√Ω! Pokud se PLA dostane na skl√°dku m√≠sto do kompostu, m≈Ø≈æe anaerobn√≠ rozklad 
                        produkovat metan (CH‚ÇÑ m√° 25√ó vy≈°≈°√≠ sklen√≠kov√Ω efekt ne≈æ CO‚ÇÇ). Proto je spr√°vn√© t≈ô√≠dƒõn√≠ a kompostov√°n√≠ naprosto z√°sadn√≠ pro naplnƒõn√≠ 
                        environment√°ln√≠ho potenci√°lu bioplast≈Ø.
                    </div>
                </div>
            `;

            document.getElementById('lcaResult').innerHTML = html;
        }

        function updateSliderValue(elementId, value) {
            document.getElementById(elementId).textContent = value;
        }

        function updateProcessingDefaults() {
            const material = document.getElementById('processMaterial').value;
            const params = processingParams[material];
            
            document.getElementById('temperature').value = params.temp[1];
            document.getElementById('pressure').value = params.pressure[1];
            document.getElementById('speed').value = params.speed[1];
            
            document.getElementById('tempValue').textContent = params.temp[1];
            document.getElementById('pressureValue').textContent = params.pressure[1];
            document.getElementById('speedValue').textContent = params.speed[1];
            
            document.getElementById('processingResult').innerHTML = '';
        }

        function evaluateProcessing() {
            const material = document.getElementById('processMaterial').value;
            const temp = parseInt(document.getElementById('temperature').value);
            const pressure = parseInt(document.getElementById('pressure').value);
            const speed = parseInt(document.getElementById('speed').value);
            
            const optimal = processingParams[material];
            
            const tempScore = Math.abs(temp - optimal.temp[1]) <= 10 ? 'optimal' : Math.abs(temp - optimal.temp[1]) <= 20 ? 'acceptable' : 'poor';
            const pressureScore = Math.abs(pressure - optimal.pressure[1]) <= 15 ? 'optimal' : Math.abs(pressure - optimal.pressure[1]) <= 25 ? 'acceptable' : 'poor';
            const speedScore = Math.abs(speed - optimal.speed[1]) <= 10 ? 'optimal' : Math.abs(speed - optimal.speed[1]) <= 20 ? 'acceptable' : 'poor';
            
            const scores = [tempScore, pressureScore, speedScore];
            const optimalCount = scores.filter(s => s === 'optimal').length;
            
            let resultClass = 'alert-error';
            let resultMessage = 'Parametry nejsou optim√°ln√≠ - hroz√≠ poruchy!';
            let points = 0;
            
            if (optimalCount === 3) {
                resultClass = 'alert-success';
                resultMessage = 'üéØ Perfektn√≠! V≈°echny parametry jsou optim√°ln√≠!';
                points = 10;
            } else if (optimalCount >= 2) {
                resultClass = 'alert-success';
                resultMessage = '‚úÖ Dobr√© nastaven√≠! Vƒõt≈°ina parametr≈Ø je v po≈ô√°dku.';
                points = 7;
            } else if (scores.every(s => s !== 'poor')) {
                resultClass = 'alert-warning';
                resultMessage = '‚ö†Ô∏è Akceptovateln√©, ale nen√≠ to optimum.';
                points = 4;
            }

            const materialName = material === 'pla' ? 'PLA' : material === 'phbv' ? 'PHBV' : material === 'pbat' ? 'PBAT' : 'PLA/PBAT smƒõs';
            
            const html = `
                <div class="result-box">
                    <div class="alert ${resultClass}">
                        <h4>${resultMessage}</h4>
                    </div>

                    <h3>Vyhodnocen√≠ parametr≈Ø pro ${materialName}:</h3>
                    
                    <div class="property-grid">
                        <div class="property-item">
                            <div class="property-label">Teplota taven√≠</div>
                            <div class="property-value" style="color: ${tempScore === 'optimal' ? 'var(--color-success)' : tempScore === 'acceptable' ? 'var(--color-warning)' : 'var(--color-error)'}">
                                ${temp}¬∞C ${tempScore === 'optimal' ? '‚úì' : tempScore === 'acceptable' ? '~' : '‚úó'}
                            </div>
                            <small>Optimum: ${optimal.temp[0]}-${optimal.temp[2]}¬∞C</small>
                        </div>
                        
                        <div class="property-item">
                            <div class="property-label">Vst≈ôikovac√≠ tlak</div>
                            <div class="property-value" style="color: ${pressureScore === 'optimal' ? 'var(--color-success)' : pressureScore === 'acceptable' ? 'var(--color-warning)' : 'var(--color-error)'}">
                                ${pressure} MPa ${pressureScore === 'optimal' ? '‚úì' : pressureScore === 'acceptable' ? '~' : '‚úó'}
                            </div>
                            <small>Optimum: ${optimal.pressure[0]}-${optimal.pressure[2]} MPa</small>
                        </div>
                        
                        <div class="property-item">
                            <div class="property-label">Rychlost vst≈ôiku</div>
                            <div class="property-value" style="color: ${speedScore === 'optimal' ? 'var(--color-success)' : speedScore === 'acceptable' ? 'var(--color-warning)' : 'var(--color-error)'}">
                                ${speed} mm/s ${speedScore === 'optimal' ? '‚úì' : speedScore === 'acceptable' ? '~' : '‚úó'}
                            </div>
                            <small>Optimum: ${optimal.speed[0]}-${optimal.speed[2]} mm/s</small>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: var(--color-secondary); border-radius: var(--radius-base);">
                        <h4>üìö D≈Øle≈æit√© pozn√°mky k ${materialName}:</h4>
                        <p>${bioplasticData[material].processing}</p>
                    </div>
                </div>
            `;

            document.getElementById('processingResult').innerHTML = html;
            addScore(points);
        }

        function initQuiz() {
            // V≈ædy generuj nov√© ot√°zky - zam√≠chej pole
            const quizQuestions = shuffleArray([...allQuizQuestions]);

            let html = '<div class="alert alert-success" style="margin-bottom: 20px;"><strong>üí° Tip:</strong> Ka≈æd√© spu≈°tƒõn√≠ kv√≠zu zam√≠ch√° ot√°zky!</div>';
            quizQuestions.forEach((q, index) => {
                html += `
                    <div class="quiz-question">
                        <h4>Ot√°zka ${index + 1}: ${q.question}</h4>
                        <div class="quiz-options" id="quiz-${index}">
                            ${q.options.map((option, optIndex) => `
                                <div class="quiz-option" onclick="checkAnswer(${index}, ${optIndex}, ${q.correct})">
                                    ${option}
                                </div>
                            `).join('')}
                        </div>
                        <div id="explanation-${index}" style="margin-top: 15px; display: none;"></div>
                    </div>
                `;
            });

            document.getElementById('quizContainer').innerHTML = html;
            quizAnswered = {}; // Reset odpovƒõd√≠
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function checkAnswer(questionIndex, selectedOption, correctOption) {
            if (quizAnswered[questionIndex]) return;

            quizAnswered[questionIndex] = true;
            const container = document.getElementById(`quiz-${questionIndex}`);
            const options = container.children;
            
            options[selectedOption].classList.add(selectedOption === correctOption ? 'correct' : 'incorrect');
            options[correctOption].classList.add('correct');
            
            const explanation = document.getElementById(`explanation-${questionIndex}`);
            explanation.style.display = 'block';
            explanation.innerHTML = `
                <div class="alert ${selectedOption === correctOption ? 'alert-success' : 'alert-warning'}">
                    <strong>${selectedOption === correctOption ? '‚úÖ Spr√°vnƒõ!' : '‚ùå Bohu≈æel ne.'}</strong><br>
                    ${quizQuestions[questionIndex].explanation}
                </div>
            `;

            if (selectedOption === correctOption) {
                addScore(5);
            }

            for (let i = 0; i < options.length; i++) {
                options[i].style.pointerEvents = 'none';
            }
        }

        function addScore(points) {
            score += points;
            document.getElementById('scoreDisplay').textContent = `Sk√≥re: ${score} bod≈Ø`;
        }

        // Inicializace p≈ôi naƒçten√≠
        window.onload = function() {
            updateBiodegradation();
            updateLCA();
            updateProcessingDefaults();
        };
    </script>
</body>
</html>
